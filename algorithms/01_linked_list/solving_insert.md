 1.6. Добавьте в класс LinkedList метод вставки узла newNode после заданного узла afterNode (из списка)

insert(afterNode, newNode)


Если afterNode = None, добавьте новый элемент первым в списке.


---

Если я верно понимаю задание, нужно найти в связном списке узел afterNode и вставить узел newNode после него.
Если afterNode=None, произвести вставку узла newNode в начало списка (т.е. назначить его головой списка).

afterNode либо None, либо обязательно есть в списке. 

---

```
# вставка в начало списка если: afterNode=None или список пустой
# перебор списка если: afterNode!=None и список не пустой

def insert(self, afterNode=None, newNode):
    if (afterNode != None) and (self.head is not None):
        node = self.head
        while node is not None:
            if node is afterNode: # вставляем, если искомый узел найден
                newNode.next = node.next # связываем новый узел со следующим по отношению к текущему
                node.next = newNode # связываем текущий узел со вставляемым
                break # продолжать перебор смысла нет
            node = node.next
    else: # вставка в голову
        newNode.next = self.head # связать новый узел со следующим, т.е. с бывшей головой
        self.head = newNode # назначить узел головой
```

Итого, варианты на проверку:
- [x] список пустой, afterNode=None
- [x] список пустой, afterNode!=None
- [x] список не пустой, afterNode=None
- [x] список не пустой, afterNode!=None

Сервер возвращает ошибку вставки в пустой список.

Возможная проблема:
при вставке в пустой список я не обновил хвост
и при вставке в конец, кажется, будут проблемы... -- точно, тест не проходит


Операции для каждого случая с учетом обновления хвоста:

```
список пустой, afterNode=None
    вставка в голову
    обновить хвост на newNode

список пустой, afterNode!=None
    вставка в голову
    обновить хвост на newNode

список не пустой, afterNode=None
    вставка в голову
    
список не пустой, afterNode!=None
    вставка после найденного узла
        если найденный узел последний:
            вставка
            обновить хвост на newNode
```

Упрощаю:

```
список пустой
    вставка в голову
    обновить хвост на newNode

список не пустой
    afterNode=None -- вставка в голову
    иначе -- перебор
        вставка
        если текущий узел - хвост -- обновить хвост
```

Можно ли упростить еще? Что повторяется?

Повторяются:
- вставка в голову
- обновление хвоста

Кажется, лучше вообще дополнить исходное решение. Проверим...

| связный список | afterNode | вставка в голову | обновить хвост |
|:---:|:---:|:---:|:---:|
| empty | None | + | + |
| empty | not None | + | + |
| not empty | None | + | - |
| not empty | not None | - | -/+ |  

Вставка в голову НЕ производится только в последнем случае
Хвост же обновляется в 2-х случаях:
1) вне зависимости от afterNone для пустого списка;
2) в последнем случае, если вставка после последнего узла;

На данном этапе понятнее всего - дополнить готовое решение.

```python
    def insert(self, afterNode, newNode):
        if (afterNode != None) and (self.head is not None):
            node = self.head
            while node is not None:
                if node is afterNode: # вставляем, если искомый узел найден
                    newNode.next = node.next # связываем новый узел со следующим по отношению к текущему
                    node.next = newNode # связываем текущий узел со вставляемым

                    if node is self.tail:
                        self.tail = newNode # обновляем хвост (случай 2) 
                    
                    break # продолжать перебор смысла нет
                node = node.next
        else: # вставка в голову
            newNode.next = self.head # связать новый узел со следующим, т.е. с бывшей головой

            if self.head is None:
                self.tail = newNode # обновляем хвост (случай 1)
            
            self.head = newNode # обновить голову
```
